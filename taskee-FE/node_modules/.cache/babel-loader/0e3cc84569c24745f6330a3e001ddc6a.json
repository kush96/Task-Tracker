{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\KushPC\\\\Desktop\\\\demoSiteProject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\KushPC\\\\Desktop\\\\demoSiteProject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\KushPC\\\\Desktop\\\\demoSiteProject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\KushPC\\\\Desktop\\\\demoSiteProject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\KushPC\\\\Desktop\\\\demoSiteProject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\KushPC\\\\Desktop\\\\demoSiteProject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"./node_modules/react\";import axios from\"./node_modules/axios\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);function LoginForm(props){var _this;_classCallCheck(this,LoginForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginForm).call(this,props));_this.changeHandler=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.submitHandler=function(e){e.preventDefault();var payload=_this.state;console.log(payload);axios({method:'post',url:\"http://localhost:8080/authenticate\",data:payload,headers:{'Content-Type':'application/json'}}).then(function(response){//handle success\n_this.setState({errorMessage:\"\"});localStorage.setItem(\"token\",response.data.token);console.log(response.data.token);}).catch(function(error){//handle error\n_this.setState({errorMessage:error.response.data.message});console.log(error.response.data);});console.log(\"form submitted\");};_this.state={isAuthenticated:\"false\",email:\"\",errorMessage:\"\"};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"form-wrapper\"},React.createElement(\"h1\",null,\"Create Account\"),React.createElement(\"form\",{onSubmit:this.submitHandler},React.createElement(\"div\",{className:\"email\"},React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),React.createElement(\"input\",{placeholder:\"Email\",type:\"email\",name:\"email\",id:\"email\",onChange:this.changeHandler})),React.createElement(\"div\",{className:\"password\"},React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),React.createElement(\"input\",{placeholder:\"password\",type:\"password\",name:\"password\",id:\"password\",onChange:this.changeHandler})),React.createElement(\"label\",{className:\"errorMessage\"},this.state.errorMessage),React.createElement(\"input\",{type:\"submit\",value:\"Login\"})));}}]);return LoginForm;}(Component);export default LoginPage;","map":{"version":3,"sources":["C:/Users/KushPC/Desktop/demoSiteProject/src/pages/LoginPage.js"],"names":["React","Component","axios","LoginForm","props","changeHandler","event","setState","target","name","value","submitHandler","e","preventDefault","payload","state","console","log","method","url","data","headers","then","response","errorMessage","localStorage","setItem","token","catch","error","message","isAuthenticated","email","LoginPage"],"mappings":"0/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,sBAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,C,GACMC,CAAAA,S,mEACJ,mBAAYC,KAAZ,CAAmB,2CACjB,2EAAMA,KAAN,GADiB,MAQnBC,aARmB,CAQH,SAACC,KAAD,CAAW,CACzB,MAAKC,QAAL,oBACGD,KAAK,CAACE,MAAN,CAAaC,IADhB,CACuBH,KAAK,CAACE,MAAN,CAAaE,KADpC,GAID,CAbkB,OAcnBC,aAdmB,CAcH,SAACC,CAAD,CAAO,CACrBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,OAAO,CAAG,MAAKC,KAArB,CACAC,OAAO,CAACC,GAAR,CAAYH,OAAZ,EACAZ,KAAK,CAAC,CACJgB,MAAM,CAAE,MADJ,CAEJC,GAAG,CAAE,oCAFD,CAGJC,IAAI,CAAEN,OAHF,CAIJO,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAJL,CAAD,CAAL,CAMGC,IANH,CAMQ,SAACC,QAAD,CAAc,CAChB;AACA,MAAKhB,QAAL,CAAc,CACZiB,YAAY,CAAC,EADD,CAAd,EAGAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6BH,QAAQ,CAACH,IAAT,CAAcO,KAA3C,EACAX,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACH,IAAT,CAAcO,KAA1B,EACH,CAbH,EAcGC,KAdH,CAcS,SAACC,KAAD,CAAW,CACd;AACA,MAAKtB,QAAL,CAAc,CACZiB,YAAY,CAACK,KAAK,CAACN,QAAN,CAAeH,IAAf,CAAoBU,OADrB,CAAd,EAGAd,OAAO,CAACC,GAAR,CAAYY,KAAK,CAACN,QAAN,CAAeH,IAA3B,EACH,CApBH,EAqBAJ,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACD,CAxCkB,CAEjB,MAAKF,KAAL,CAAa,CACXgB,eAAe,CAAE,OADN,CAEXC,KAAK,CAAE,EAFI,CAGXR,YAAY,CAAC,EAHF,CAAb,CAFiB,aAOlB,C,6DAkCQ,CACP,MACE,4BAAK,SAAS,CAAC,cAAf,EACE,+CADF,CAEE,4BAAM,QAAQ,CAAE,KAAKb,aAArB,EACE,2BAAK,SAAS,CAAC,OAAf,EACE,6BAAO,OAAO,CAAC,OAAf,UADF,CAEE,6BACE,WAAW,CAAC,OADd,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,OAHP,CAIE,EAAE,CAAC,OAJL,CAKE,QAAQ,CAAE,KAAKN,aALjB,EAFF,CADF,CAWE,2BAAK,SAAS,CAAC,UAAf,EACE,6BAAO,OAAO,CAAC,UAAf,aADF,CAEE,6BACE,WAAW,CAAC,UADd,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,EAAE,CAAC,UAJL,CAKE,QAAQ,CAAE,KAAKA,aALjB,EAFF,CAXF,CAqBE,6BAAO,SAAS,CAAG,cAAnB,EAAmC,KAAKU,KAAL,CAAWS,YAA9C,CArBF,CAsBE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,EAtBF,CAFF,CADF,CA6BD,C,uBAxEqBvB,S,EA2ExB,cAAegC,CAAAA,SAAf","sourcesContent":["import React, { Component } from \"./node_modules/react\";\r\nimport axios from \"./node_modules/axios\";\r\nclass LoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAuthenticated: \"false\",\r\n      email: \"\",\r\n      errorMessage:\"\"\r\n    };\r\n  }\r\n  changeHandler = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n\r\n  };\r\n  submitHandler = (e) => {\r\n    e.preventDefault();\r\n    const payload = this.state;\r\n    console.log(payload);\r\n    axios({\r\n      method: 'post',\r\n      url: \"http://localhost:8080/authenticate\",\r\n      data: payload,\r\n      headers: {'Content-Type': 'application/json' }\r\n      })\r\n      .then((response) => {\r\n          //handle success\r\n          this.setState({\r\n            errorMessage:\"\"\r\n          });\r\n          localStorage.setItem(\"token\",response.data.token);\r\n          console.log(response.data.token);\r\n      })\r\n      .catch((error) => {\r\n          //handle error\r\n          this.setState({\r\n            errorMessage:error.response.data.message\r\n          });\r\n          console.log(error.response.data);\r\n      });\r\n    console.log(\"form submitted\");\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"form-wrapper\">\r\n        <h1>Create Account</h1>\r\n        <form onSubmit={this.submitHandler}>\r\n          <div className=\"email\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              placeholder=\"Email\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              onChange={this.changeHandler}\r\n            />\r\n          </div>\r\n          <div className=\"password\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              placeholder=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              onChange={this.changeHandler}\r\n            />\r\n          </div>\r\n          <label className = \"errorMessage\">{this.state.errorMessage}</label>\r\n          <input type=\"submit\" value=\"Login\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}